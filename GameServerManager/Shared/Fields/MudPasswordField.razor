@inherits MudTextField<string>

@{
    base.BuildRenderTree(__builder);
}

@code {
    protected override void OnInitialized()
    {
        base.AdornmentIcon = Icons.Material.Filled.VisibilityOff;
        base.InputType = InputType.Password;
        base.Adornment = Adornment.End;
        base.OnAdornmentClick = EventCallback.Factory.Create<MouseEventArgs>(this, OnVisibilityClick);
    }

    private void OnVisibilityClick(MouseEventArgs args)
    {
        bool isMasked = base.AdornmentIcon == Icons.Material.Filled.Visibility;
        base.InputType = isMasked ? InputType.Password : InputType.Text;
        base.AdornmentIcon = isMasked ? Icons.Material.Filled.VisibilityOff : Icons.Material.Filled.Visibility;
    }
}
